<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="uav__system_8h" kind="file">
    <compoundname>uav_system.h</compoundname>
    <includes local="yes">uav_system_config.pb.h</includes>
    <includes refid="base__controller__hardware__connector_8h" local="no">aerial_autonomy/controller_hardware_connectors/base_controller_hardware_connector.h</includes>
    <includes refid="basic__controllers_8h" local="no">aerial_autonomy/controllers/basic_controllers.h</includes>
    <includes refid="basic__controller__hardware__connectors_8h" local="no">aerial_autonomy/controller_hardware_connectors/basic_controller_hardware_connectors.h</includes>
    <includes refid="type__map_8h" local="no">aerial_autonomy/common/type_map.h</includes>
    <includes local="no">boost/thread/mutex.hpp</includes>
    <includes local="no">memory</includes>
    <includedby refid="hovering__functors_8h" local="no">include/aerial_autonomy/actions_guards/hovering_functors.h</includedby>
    <includedby refid="land__functors_8h" local="no">include/aerial_autonomy/actions_guards/land_functors.h</includedby>
    <includedby refid="position__control__functors_8h" local="no">include/aerial_autonomy/actions_guards/position_control_functors.h</includedby>
    <includedby refid="takeoff__functors_8h" local="no">include/aerial_autonomy/actions_guards/takeoff_functors.h</includedby>
    <includedby refid="onboard__system__handler_8h" local="no">include/aerial_autonomy/onboard_system_handler.h</includedby>
    <includedby refid="basic__state__machine_8h" local="no">include/aerial_autonomy/state_machines/basic_state_machine.h</includedby>
    <includedby refid="system__status__publisher_8h" local="no">include/aerial_autonomy/system_status_publisher.h</includedby>
    <includedby refid="sample__logic__state__machine_8h" local="no">include/aerial_autonomy/tests/sample_logic_state_machine.h</includedby>
    <incdepgraph>
      <node id="1479">
        <label>boost/thread/mutex.hpp</label>
      </node>
      <node id="1488">
        <label>aerial_autonomy/controller_hardware_connectors/basic_controller_hardware_connectors.h</label>
        <link refid="basic__controller__hardware__connectors_8h"/>
        <childnode refid="1489" relation="include">
        </childnode>
        <childnode refid="1493" relation="include">
        </childnode>
        <childnode refid="1494" relation="include">
        </childnode>
      </node>
      <node id="1495">
        <label>aerial_autonomy/types/position_yaw.h</label>
        <link refid="position__yaw_8h"/>
        <childnode refid="1496" relation="include">
        </childnode>
      </node>
      <node id="1486">
        <label>aerial_autonomy/types/joysticks.h</label>
        <link refid="joysticks_8h"/>
      </node>
      <node id="1478">
        <label>aerial_autonomy/controllers/base_controller.h</label>
        <link refid="base__controller_8h"/>
        <childnode refid="1479" relation="include">
        </childnode>
      </node>
      <node id="1480">
        <label>aerial_autonomy/controllers/basic_controllers.h</label>
        <link refid="basic__controllers_8h"/>
        <childnode refid="1481" relation="include">
        </childnode>
        <childnode refid="1483" relation="include">
        </childnode>
      </node>
      <node id="1481">
        <label>aerial_autonomy/controllers/builtin_controller.h</label>
        <link refid="builtin__controller_8h"/>
        <childnode refid="1478" relation="include">
        </childnode>
        <childnode refid="1482" relation="include">
        </childnode>
      </node>
      <node id="1497">
        <label>aerial_autonomy/common/type_map.h</label>
        <link refid="type__map_8h"/>
        <childnode refid="1498" relation="include">
        </childnode>
        <childnode refid="1499" relation="include">
        </childnode>
      </node>
      <node id="1484">
        <label>aerial_autonomy/types/empty_goal.h</label>
        <link refid="empty__goal_8h"/>
      </node>
      <node id="1494">
        <label>aerial_autonomy/controller_hardware_connectors/position_controller_drone_connector.h</label>
        <link refid="position__controller__drone__connector_8h"/>
        <childnode refid="1477" relation="include">
        </childnode>
        <childnode refid="1482" relation="include">
        </childnode>
        <childnode refid="1495" relation="include">
        </childnode>
        <childnode refid="1492" relation="include">
        </childnode>
      </node>
      <node id="1490">
        <label>aerial_autonomy/types/velocity_yaw.h</label>
        <link refid="velocity__yaw_8h"/>
        <childnode refid="1491" relation="include">
        </childnode>
      </node>
      <node id="1482">
        <label>aerial_autonomy/types/empty_sensor.h</label>
        <link refid="empty__sensor_8h"/>
      </node>
      <node id="1489">
        <label>aerial_autonomy/controller_hardware_connectors/builtin_velocity_controller_drone_connector.h</label>
        <link refid="builtin__velocity__controller__drone__connector_8h"/>
        <childnode refid="1477" relation="include">
        </childnode>
        <childnode refid="1482" relation="include">
        </childnode>
        <childnode refid="1490" relation="include">
        </childnode>
        <childnode refid="1492" relation="include">
        </childnode>
      </node>
      <node id="1491">
        <label>aerial_autonomy/types/velocity.h</label>
        <link refid="velocity_8h"/>
      </node>
      <node id="1483">
        <label>aerial_autonomy/controllers/manual_rpyt_controller.h</label>
        <link refid="manual__rpyt__controller_8h"/>
        <childnode refid="1478" relation="include">
        </childnode>
        <childnode refid="1484" relation="include">
        </childnode>
        <childnode refid="1485" relation="include">
        </childnode>
        <childnode refid="1487" relation="include">
        </childnode>
      </node>
      <node id="1493">
        <label>aerial_autonomy/controller_hardware_connectors/manual_rpyt_controller_drone_connector.h</label>
        <link refid="manual__rpyt__controller__drone__connector_8h"/>
        <childnode refid="1477" relation="include">
        </childnode>
        <childnode refid="1484" relation="include">
        </childnode>
        <childnode refid="1485" relation="include">
        </childnode>
        <childnode refid="1487" relation="include">
        </childnode>
        <childnode refid="1492" relation="include">
        </childnode>
      </node>
      <node id="1485">
        <label>aerial_autonomy/types/joysticks_yaw.h</label>
        <link refid="joysticks__yaw_8h"/>
        <childnode refid="1486" relation="include">
        </childnode>
      </node>
      <node id="1499">
        <label>unordered_map</label>
      </node>
      <node id="1477">
        <label>aerial_autonomy/controller_hardware_connectors/base_controller_hardware_connector.h</label>
        <link refid="base__controller__hardware__connector_8h"/>
        <childnode refid="1478" relation="include">
        </childnode>
      </node>
      <node id="1487">
        <label>aerial_autonomy/types/roll_pitch_yaw_thrust.h</label>
        <link refid="roll__pitch__yaw__thrust_8h"/>
      </node>
      <node id="1496">
        <label>aerial_autonomy/types/position.h</label>
        <link refid="position_8h"/>
      </node>
      <node id="1475">
        <label>include/aerial_autonomy/robot_systems/uav_system.h</label>
        <link refid="uav_system.h"/>
        <childnode refid="1476" relation="include">
        </childnode>
        <childnode refid="1477" relation="include">
        </childnode>
        <childnode refid="1480" relation="include">
        </childnode>
        <childnode refid="1488" relation="include">
        </childnode>
        <childnode refid="1497" relation="include">
        </childnode>
        <childnode refid="1479" relation="include">
        </childnode>
        <childnode refid="1500" relation="include">
        </childnode>
      </node>
      <node id="1476">
        <label>uav_system_config.pb.h</label>
      </node>
      <node id="1492">
        <label>parsernode/parser.h</label>
      </node>
      <node id="1500">
        <label>memory</label>
      </node>
      <node id="1498">
        <label>typeindex</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="1506">
        <label>include/aerial_autonomy/actions_guards/land_functors.h</label>
        <link refid="land__functors_8h"/>
        <childnode refid="1503" relation="include">
        </childnode>
      </node>
      <node id="1505">
        <label>src/aerial_autonomy_node.cpp</label>
        <link refid="aerial__autonomy__node_8cpp"/>
      </node>
      <node id="1504">
        <label>include/aerial_autonomy/state_machines/basic_state_machine.h</label>
        <link refid="basic__state__machine_8h"/>
        <childnode refid="1505" relation="include">
        </childnode>
      </node>
      <node id="1507">
        <label>include/aerial_autonomy/actions_guards/position_control_functors.h</label>
        <link refid="position__control__functors_8h"/>
        <childnode refid="1503" relation="include">
        </childnode>
      </node>
      <node id="1509">
        <label>include/aerial_autonomy/onboard_system_handler.h</label>
        <link refid="onboard__system__handler_8h"/>
        <childnode refid="1505" relation="include">
        </childnode>
      </node>
      <node id="1510">
        <label>include/aerial_autonomy/system_status_publisher.h</label>
        <link refid="system__status__publisher_8h"/>
        <childnode refid="1509" relation="include">
        </childnode>
      </node>
      <node id="1503">
        <label>include/aerial_autonomy/actions_guards/basic_states.h</label>
        <link refid="basic__states_8h"/>
        <childnode refid="1504" relation="include">
        </childnode>
      </node>
      <node id="1502">
        <label>include/aerial_autonomy/actions_guards/hovering_functors.h</label>
        <link refid="hovering__functors_8h"/>
        <childnode refid="1503" relation="include">
        </childnode>
      </node>
      <node id="1501">
        <label>include/aerial_autonomy/robot_systems/uav_system.h</label>
        <link refid="uav_system.h"/>
        <childnode refid="1502" relation="include">
        </childnode>
        <childnode refid="1506" relation="include">
        </childnode>
        <childnode refid="1507" relation="include">
        </childnode>
        <childnode refid="1508" relation="include">
        </childnode>
        <childnode refid="1509" relation="include">
        </childnode>
        <childnode refid="1504" relation="include">
        </childnode>
        <childnode refid="1510" relation="include">
        </childnode>
        <childnode refid="1511" relation="include">
        </childnode>
      </node>
      <node id="1511">
        <label>include/aerial_autonomy/tests/sample_logic_state_machine.h</label>
        <link refid="sample__logic__state__machine_8h"/>
      </node>
      <node id="1508">
        <label>include/aerial_autonomy/actions_guards/takeoff_functors.h</label>
        <link refid="takeoff__functors_8h"/>
        <childnode refid="1503" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="classUAVSystem" prot="public">UAVSystem</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#pragma<sp/>once</highlight></codeline>
<codeline lineno="2"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;uav_system_config.pb.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="base__controller__hardware__connector_8h" kindref="compound">aerial_autonomy/controller_hardware_connectors/base_controller_hardware_connector.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Controllers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="basic__controllers_8h" kindref="compound">aerial_autonomy/controllers/basic_controllers.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Specific<sp/>ControllerConnectors</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="basic__controller__hardware__connectors_8h" kindref="compound">aerial_autonomy/controller_hardware_connectors/basic_controller_hardware_connectors.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Store<sp/>type_map</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;<ref refid="type__map_8h" kindref="compound">aerial_autonomy/common/type_map.h</ref>&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Boost<sp/>thread<sp/>stuff</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;boost/thread/mutex.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Unique<sp/>ptr</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;memory&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="21" refid="classUAVSystem" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classUAVSystem" kindref="compound">UAVSystem</ref><sp/>{</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/>parsernode::Parser<sp/>&amp;drone_hardware_;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">//<sp/>Controllers</highlight></codeline>
<codeline lineno="32"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/><ref refid="classBuiltInController" kindref="compound">BuiltInController&lt;PositionYaw&gt;</ref><sp/>builtin_position_controller_;</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><ref refid="classBuiltInController" kindref="compound">BuiltInController&lt;VelocityYaw&gt;</ref><sp/>builtin_velocity_controller_;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><ref refid="classManualRPYTController" kindref="compound">ManualRPYTController</ref><sp/>manual_rpyt_controller_;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><ref refid="classPositionControllerDroneConnector" kindref="compound">PositionControllerDroneConnector</ref><sp/>position_controller_drone_connector_;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><ref refid="classBuiltInVelocityControllerDroneConnector" kindref="compound">BuiltInVelocityControllerDroneConnector</ref><sp/>velocity_controller_drone_connector_;</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><ref refid="classManualRPYTControllerDroneConnector" kindref="compound">ManualRPYTControllerDroneConnector</ref><sp/>rpyt_controller_drone_connector_;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><ref refid="classTypeMap" kindref="compound">TypeMap&lt;AbstractControllerHardwareConnector&gt;</ref></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>controller_hardware_connector_container_;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/>std::map&lt;HardwareType,<sp/>AbstractControllerHardwareConnector<sp/>*&gt;</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>active_controllers_;</highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/>std::map&lt;HardwareType,<sp/>std::unique_ptr&lt;boost::mutex&gt;&gt;<sp/>thread_mutexes_;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/>UAVSystemConfig<sp/>config_;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="78" refid="classUAVSystem_1a99ac3986113a03546b8dc4bcc73d65b0" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classUAVSystem_1a99ac3986113a03546b8dc4bcc73d65b0" kindref="member">UAVSystem</ref>(parsernode::Parser<sp/>&amp;drone_hardware)</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/><ref refid="classUAVSystem" kindref="compound">UAVSystem</ref>(drone_hardware,<sp/>UAVSystemConfig())<sp/>{}</highlight></codeline>
<codeline lineno="88" refid="classUAVSystem_1a9218f794905e832cc356b5e4b659e1da" refkind="member"><highlight class="normal"><sp/><sp/><ref refid="classUAVSystem_1a9218f794905e832cc356b5e4b659e1da" kindref="member">UAVSystem</ref>(parsernode::Parser<sp/>&amp;drone_hardware,<sp/>UAVSystemConfig<sp/>config)</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>:<sp/>drone_hardware_(drone_hardware),</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>position_controller_drone_connector_(drone_hardware,</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>builtin_position_controller_),</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_controller_drone_connector_(drone_hardware,</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>builtin_velocity_controller_),</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rpyt_controller_drone_connector_(drone_hardware,</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>manual_rpyt_controller_),</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>config_(config)<sp/>{</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Add<sp/>control<sp/>hardware<sp/>connector<sp/>containers</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/>controller_hardware_connector_container_.<ref refid="classTypeMap_1a738b13adaac930d128c1a81b08628b9e" kindref="member">setObject</ref>(</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>position_controller_drone_connector_);</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/>controller_hardware_connector_container_.<ref refid="classTypeMap_1a738b13adaac930d128c1a81b08628b9e" kindref="member">setObject</ref>(</highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_controller_drone_connector_);</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>controller_hardware_connector_container_.<ref refid="classTypeMap_1a738b13adaac930d128c1a81b08628b9e" kindref="member">setObject</ref>(</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rpyt_controller_drone_connector_);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Initialize<sp/>active<sp/>controller<sp/>map</highlight></codeline>
<codeline lineno="107"><highlight class="comment"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>active_controllers_[<ref refid="base__controller__hardware__connector_8h_1ae4dfd42394001deb6e8a0e60c81d6f7aa551c5c03a1a91f2cf90e0d9a9b6dd378" kindref="member">HardwareType::Arm</ref>]<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>thread_mutexes_[<ref refid="base__controller__hardware__connector_8h_1ae4dfd42394001deb6e8a0e60c81d6f7aa551c5c03a1a91f2cf90e0d9a9b6dd378" kindref="member">HardwareType::Arm</ref>]<sp/>=</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::unique_ptr&lt;boost::mutex&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>boost::mutex);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/>active_controllers_[<ref refid="base__controller__hardware__connector_8h_1ae4dfd42394001deb6e8a0e60c81d6f7aa6902d76cea698982754404da77e5e08a" kindref="member">HardwareType::UAV</ref>]<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/>thread_mutexes_[<ref refid="base__controller__hardware__connector_8h_1ae4dfd42394001deb6e8a0e60c81d6f7aa6902d76cea698982754404da77e5e08a" kindref="member">HardwareType::UAV</ref>]<sp/>=</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::unique_ptr&lt;boost::mutex&gt;(</highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>boost::mutex);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="120" refid="classUAVSystem_1a8a1cbcd8770841ee2a30365f4a75bf34" refkind="member"><highlight class="normal"><sp/><sp/>parsernode::common::quaddata<sp/><ref refid="classUAVSystem_1a8a1cbcd8770841ee2a30365f4a75bf34" kindref="member">getUAVData</ref>()<sp/>{</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>parsernode::common::quaddata<sp/>data;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>drone_hardware_.getquaddata(data);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>data;</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="125"><highlight class="normal"></highlight></codeline>
<codeline lineno="129" refid="classUAVSystem_1a7f010477b67bfeb5d6d32c0f10630b8e" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classUAVSystem_1a7f010477b67bfeb5d6d32c0f10630b8e" kindref="member">takeOff</ref>()<sp/>{<sp/>drone_hardware_.takeoff();<sp/>}</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="134" refid="classUAVSystem_1ae1bac31ca121a54cb1e3ed7fac322993" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classUAVSystem_1ae1bac31ca121a54cb1e3ed7fac322993" kindref="member">land</ref>()<sp/>{<sp/>drone_hardware_.land();<sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>ControllerHardwareConnectorT,<sp/></highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>GoalT&gt;</highlight></codeline>
<codeline lineno="145" refid="classUAVSystem_1a6aae5b94424be17ed6bafeaa4f64f416" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classUAVSystem_1a6aae5b94424be17ed6bafeaa4f64f416" kindref="member">setGoal</ref>(GoalT<sp/>goal)<sp/>{</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/>ControllerHardwareConnectorT<sp/>*controller_hardware_connector<sp/>=</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>controller_hardware_connector_container_</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.<ref refid="classTypeMap_1af45351278345a92d2d2fb13a977858aa" kindref="member">getObject</ref>&lt;ControllerHardwareConnectorT&gt;();</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>controller_hardware_connector-&gt;setGoal(goal);</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="base__controller__hardware__connector_8h_1ae4dfd42394001deb6e8a0e60c81d6f7a" kindref="member">HardwareType</ref><sp/>hardware_type<sp/>=</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>controller_hardware_connector-&gt;getHardwareType();</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(active_controllers_[hardware_type]<sp/>!=<sp/>controller_hardware_connector)<sp/>{</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>boost::mutex::scoped_lock<sp/>lock(*thread_mutexes_[hardware_type]);</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>active_controllers_[hardware_type]<sp/>=<sp/>controller_hardware_connector;</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="165" refid="classUAVSystem_1a5381ca45049c8c92e872a80a2974339b" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>ControllerHardwareConnectorT,<sp/></highlight><highlight class="keyword">class</highlight><highlight class="normal"><sp/>GoalT&gt;<sp/>GoalT<sp/><ref refid="classUAVSystem_1a5381ca45049c8c92e872a80a2974339b" kindref="member">getGoal</ref>()<sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>ControllerHardwareConnectorT<sp/>*controller_hardware_connector<sp/>=</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>controller_hardware_connector_container_</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.<ref refid="classTypeMap_1af45351278345a92d2d2fb13a977858aa" kindref="member">getObject</ref>&lt;ControllerHardwareConnectorT&gt;();</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>controller_hardware_connector-&gt;getGoal();</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="178" refid="classUAVSystem_1a90634eb2ac4c515c9065ce85cc21dc19" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classUAVSystem_1a90634eb2ac4c515c9065ce85cc21dc19" kindref="member">abortController</ref>(<ref refid="base__controller__hardware__connector_8h_1ae4dfd42394001deb6e8a0e60c81d6f7a" kindref="member">HardwareType</ref><sp/>hardware_type)<sp/>{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>boost::mutex::scoped_lock<sp/>lock(*thread_mutexes_[hardware_type]);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/>active_controllers_[hardware_type]<sp/>=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="classUAVSystem_1ad3d60a491f325261a1acebdadd7478a6" refkind="member"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classUAVSystem_1ad3d60a491f325261a1acebdadd7478a6" kindref="member">runActiveController</ref>(<ref refid="base__controller__hardware__connector_8h_1ae4dfd42394001deb6e8a0e60c81d6f7a" kindref="member">HardwareType</ref><sp/>hardware_type)<sp/>{</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>lock<sp/>to<sp/>ensure<sp/>active_control<sp/>fcn<sp/>is<sp/>not<sp/>changed</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structAbstractControllerHardwareConnector" kindref="compound">AbstractControllerHardwareConnector</ref><sp/>*active_controller<sp/>=</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>active_controllers_[hardware_type];</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(active_controller<sp/>!=<sp/></highlight><highlight class="keyword">nullptr</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>boost::mutex::scoped_lock<sp/>lock(*thread_mutexes_[hardware_type]);</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>active_controller-&gt;<ref refid="structAbstractControllerHardwareConnector_1a0fcf605e19daef2f9f99d4dc2a23feb4" kindref="member">run</ref>();</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198" refid="classUAVSystem_1ab0840278177ee64082ee05937d028421" refkind="member"><highlight class="normal"><sp/><sp/>std::string<sp/><ref refid="classUAVSystem_1ab0840278177ee64082ee05937d028421" kindref="member">getSystemStatus</ref>()<sp/>{</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>parsernode::common::quaddata<sp/>data<sp/>=<sp/><ref refid="classUAVSystem_1a8a1cbcd8770841ee2a30365f4a75bf34" kindref="member">getUAVData</ref>();</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Get<sp/>goals<sp/>for<sp/>different<sp/>controllers:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structVelocityYaw" kindref="compound">VelocityYaw</ref><sp/>velocity_controller_goal<sp/>=</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>builtin_velocity_controller_.<ref refid="classController_1a712cefd3af65956a9bd420641b175214" kindref="member">getGoal</ref>();</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="structPositionYaw" kindref="compound">PositionYaw</ref><sp/>position_controller_goal<sp/>=</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>builtin_position_controller_.<ref refid="classController_1a712cefd3af65956a9bd420641b175214" kindref="member">getGoal</ref>();</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>buffer[1500];</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>sprintf(buffer,</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Battery<sp/>Percent:<sp/>%2.2f\t\nlx:<sp/>%2.2f\tly:<sp/>%2.2f\tlz:<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%2.2f\nAltitude:<sp/>%2.2f\t\nRoll:<sp/>%2.2f\tPitch<sp/>%2.2f\tYaw<sp/>%2.2f\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Magx:<sp/>%2.2f\tMagy<sp/>%2.2f\tMagz<sp/>%2.2f\naccx:<sp/>%2.2f\taccy<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;%2.2f\taccz<sp/>%2.2f\nvelx:<sp/>%2.2f\tvely<sp/>%2.2f\tvelz<sp/>%2.2f\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Goalvx:<sp/>%2.2f\tGoalvy:<sp/>%2.2f\tGoalvz:<sp/>%2.2f\tGoalvyaw:<sp/>%2.2f\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Goalx:<sp/>%2.2f\tGoaly:<sp/>%2.2f\tGoalz:<sp/>%2.2f\tGoalpyaw:<sp/>%2.2f\n&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Mass:<sp/>%2.2f\tTimestamp:<sp/>%2.2f\t\nQuadState:<sp/>%s&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.batterypercent,<sp/>data.localpos.x,<sp/>data.localpos.y,</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.localpos.z,<sp/>data.altitude,<sp/>data.rpydata.x<sp/>*<sp/>(180<sp/>/<sp/>M_PI),</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.rpydata.y<sp/>*<sp/>(180<sp/>/<sp/>M_PI),</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.rpydata.z<sp/>*<sp/>(180<sp/>/<sp/>M_PI),<sp/></highlight><highlight class="comment">//<sp/>IMU<sp/>rpy<sp/>angles</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.magdata.x,<sp/>data.magdata.y,<sp/>data.magdata.z,<sp/>data.linacc.x,</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.linacc.y,<sp/>data.linacc.z,<sp/>data.linvel.x,<sp/>data.linvel.y,</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.linvel.z,<sp/>velocity_controller_goal.<ref refid="structVelocity_1a99a9f9580c8a025a2c7a18890993b56a" kindref="member">x</ref>,</highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_controller_goal.<ref refid="structVelocity_1ae1282d20e14cc4be4aac24ab4e1e3e5c" kindref="member">y</ref>,<sp/>velocity_controller_goal.<ref refid="structVelocity_1aaebcd198674f7adcb61f9bb981dab465" kindref="member">z</ref>,</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>velocity_controller_goal.<ref refid="structVelocityYaw_1a5bef45a2807a9814495080d2e5603ce4" kindref="member">yaw</ref>,<sp/>position_controller_goal.<ref refid="structPosition_1a9abbe738bad177de91fe4774099c1260" kindref="member">x</ref>,</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>position_controller_goal.<ref refid="structPosition_1a75f48c2a1d2c7131b8be1a0687ae72c8" kindref="member">y</ref>,<sp/>position_controller_goal.<ref refid="structPosition_1ab26043bc2f8f6094818c17dd44e43228" kindref="member">z</ref>,</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>position_controller_goal.<ref refid="structPositionYaw_1a712a15ba9739cb5f4e31ea973074b8bf" kindref="member">yaw</ref>,<sp/>data.mass,<sp/>data.timestamp,</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data.quadstate.c_str());</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>buffer;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/>}</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="233" refid="classUAVSystem_1a89d67e42aec09dd65a23f39462a8202e" refkind="member"><highlight class="normal"><sp/><sp/>UAVSystemConfig<sp/><ref refid="classUAVSystem_1a89d67e42aec09dd65a23f39462a8202e" kindref="member">getConfiguration</ref>()<sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>config_;<sp/>}</highlight></codeline>
<codeline lineno="234"><highlight class="normal">};</highlight></codeline>
    </programlisting>
    <location file="/home/gowtham/indigo_workspace/src/aerial_autonomy/include/aerial_autonomy/robot_systems/uav_system.h"/>
  </compounddef>
</doxygen>
